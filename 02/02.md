# Подготовка
Выключим автокоммит:  
```
\set AUTOCOMMIT off
```
Создадим таблицу с тестовыми данными:  
```
create table persons(id serial, first_name text, second_name text); 
insert into persons(first_name, second_name) values('ivan', 'ivanov'); 
insert into persons(first_name, second_name) values('petr', 'petrov'); 
commit;
```
Проверим установленный уровень изоляции транзакций:  
```
show transaction isolation level;
```
> read committed  
# Уровень изоляции Read Committed
Вставим данные в первой сессии:  
```
insert into persons(first_name, second_name) values('sergey', 'sergeev');
```
И попробуем считать их из второй:  
```
select * from persons;
```
Новая запись, созданная в первой сессии не отображена, так как уровень изоляции транзакций по умолчанию установлен в значение `read commited` и возможность "грязного чтения" исключена.  
Зафиксируем изменения в первой сессии:
```
commit;
```
После подтверждения транзакции в первой сессии, новые данные успешно считываются и из второй сессии, даже при нахождении внутри транзакции, повторное чтение данных выполняется, так как эти данные были зафиксированы на момент выполнения ЗАПРОСА.
# Уровень изоляции Repeatable Read
Сменим уровень изоляции на Repeatable Read в обоих сессиях:  
```
set transaction isolation level repeatable read;
```
Выполним вставку данных в первой сессии:
```
insert into persons(first_name, second_name) values('sveta', 'svetova');
```
Теперь, даже после коммита изменений в первой сессии, мы не увидим никаких изменений во второй сессии, которые были выполнены после того как мы открыли свою ТРАНЗАКЦИЮ.  
# Чей уровень тразакции имеет значение?
На то, получим мы данные из другой транзации влияет не уровень транзации в которой мы вносим изменения, а уровень транзакции в которой мы пытаемся эти изменения получить. В транзации с уровнем изоляции `read commited` можно получить данные из транзакции с уровнем изоляции `repeatable read`, если они были зафиксированы, в то время как мы не получим данные из соседней транзакции уровня `read commited`, находясь внутри транзакции с уровнем изоляции `repeatable read`, если на момент начала нашей транзакции эти изменения не были подтверждены.